type: map
required: [datasets]

properties:
  datasets:
    type: map
    additionalProperties:
      type: map
      required: [owner, contact, datatype, location, classification, contains_pii, allowed_uses, llm_policy, retention]
      properties:
        owner: str(enum=["HR","Finance","Marketing","IT"]) 
        contact: str()
        datatype: str(enum=["Table", "Document", "Log"])
        location:
          type: map
          required: [raw, processed]
          properties:
            raw: str()
            processed: str()
        classification: str(enum=["PUBLIC","INTERNAL","CONFIDENTIAL"])
        contains_pii: bool()
        pii_fields: list(str())
        allowed_uses: list(str(enum=[
          "Payroll", "HR Analytics", "Financial Reporting",
          "Fraud Detection", "Public Support", "AI Chatbot",
          "Internal Knowledge Base"]))
        llm_policy:
          type: map
          required: [allowed]
          properties:
            allowed: bool()
            reason: str()
        retention:
          type: map
          required: [raw_days, processed_days]
          properties:
            raw_days: int()
            processed_days: int()